#include <Arduino.h>
#include <ESP32servo.h>

Servo servo;

// servo
int servoPin = 5;
// potentiometer
int potPin = 34;
uint8_t degrees= 0;


/*FUNCTION DECLARATION------------------------------------------------------------------------------------------------------*/

/*--------------------------------------------------------------------------------------------------------------------------*/

/*VOID SETUP CONFIGURATION--------------------------------------------------------------------------------------------------*/
void setup() { 
  Serial.begin(115200);
  ESP32PWM::allocateTimer(1);
  servo.setPeriodHertz(50); //Hz
  servo.attach(servoPin,500,2400); //servo SG-90, min and max values are in us
} 
/*--------------------------------------------------------------------------------------------------------------------------*/

/*LOOP----------------------------------------------------------------------------------------------------------------------*/
void loop(){
   degrees = map(analogRead(potPin),0,4095,0,180);
   Serial.println(degrees);
   servo.write(degrees);
}
/*--------------------------------------------------------------------------------------------------------------------------*/


/*FUNCTIONS-----------------------------------------------------------------------------------------------------------------*/

/*--------------------------------------------------------------------------------------------------------------------------*/